!function(e,t){function a(){__tnt.user.loggedIn?(Array.from(t.getElementsByClassName("tn-user-screenname")).forEach(function(e){e.textContent=__tnt.user.screenName}),__tnt.user.avatar&&Array.from(t.getElementsByClassName("tn-user-avatar")).forEach(function(e){e.setAttribute("src",__tnt.user.avatar)}),Array.from(t.getElementsByClassName("tn-user-profile-url")).forEach(function(e){e.setAttribute("href",e.dataset.app+"profile/"+__tnt.user.screenName+"/")}),Array.from(t.getElementsByClassName("logged-in")).forEach(function(e){e.style.display="block"})):Array.from(t.getElementsByClassName("not-logged-in")).forEach(function(e){e.style.display="block"}),Array.from(t.querySelectorAll('[data-toggle="offcanvas"]')).forEach(function(e){e.addEventListener(__tnt.client.clickEvent,function(a){a.preventDefault(),a.stopPropagation();var n="left"===e.dataset.target?"active-left":"active-right";t.documentElement.classList.add("drawer-open",n)})}),Array.from(t.getElementsByClassName("offcanvas-close-btn")).forEach(function(e){e.addEventListener(__tnt.client.clickEvent,function(e){e.preventDefault(),e.stopPropagation(),t.documentElement.classList.remove("drawer-open","active-left","active-right")})}),Array.from(t.getElementsByClassName("hide-onload")).forEach(function(e){e.style.display="none"}),Array.from(t.getElementsByClassName("show-onload")).forEach(function(e){e.style.display="block"}),Array.from(t.querySelectorAll('[data-toggle="new-window"]')).forEach(function(t){t.addEventListener(__tnt.client.clickEvent,function(a){a.preventDefault();var n=t.getAttribute("href"),r=[],o={menubar:"no",toolbar:"no",resizeable:"yes",scrollbars:"yes",width:t.dataset.newWindowWidth,height:t.dataset.newWindowHeight,left:screen.width/2-t.dataset.newWindowWidth/2,top:screen.height/2-t.dataset.newWindowHeight/2},s="";Object.keys(o).forEach(function(e){r.push([e,o[e]].join("="))}),s=r.join(","),e.location.hash&&"true"===t.dataset.sendHash&&(n+="%23"+e.location.hash.substring(1)),e.open(n,"",s)})})}"loading"==t.readyState?t.addEventListener("DOMContentLoaded",function(){a()}):a()}(window,document),jQuery(document).ready(function(e){e.ajaxSetup({cache:!0}),e('[data-toggle="tooltip"]').length>0&&e('[data-toggle="tooltip"]').tooltip(),jQuery().stupidtable&&e(".table-sortable").stupidtable(),Array.from(document.querySelectorAll(".save-asset")).forEach(function(t){t.addEventListener("click",function(a){a.preventDefault(),e(".save-list-"+t.getAttribute("data-asset-uuid")+"-form").submit()})}),e(".save-asset-to-list").on("submit",function(t){if(t.preventDefault(),__tnt.user.loggedIn){var a=e(this).data("uuid"),n=".save-list-"+a+"-btn";e.ajax({type:"POST",url:e(this).attr("action"),data:e(this).serialize(),error:function(){alert("An error ocurred. Please try again.")},success:function(t){t.success?(e(n).addClass("disabled").attr("title","Saved"),e(n+" .asset-save-icon").attr("data-prefix","fas"),e(n+" .share-expand").text("Saved")):(e(n).addClass("btn-danger"),e(n+" .share-expand").text("Error"),setTimeout(function(){e(n).removeClass("btn-danger"),e(n+" .share-expand").text("Save")},1e3))}})}else{var r=window.location.href,o=window.location.search?"&":"?",s=encodeURIComponent(r+o+"save_asset="+e(this).data("uuid"));top.location.href="/users/login/?referer_url="+s}return!1})});
//# sourceMappingURL=application.1a43ae64e3ee8be134e1d98df60265ff.js.map