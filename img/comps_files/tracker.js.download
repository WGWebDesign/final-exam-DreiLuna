function TNStats_Tracker(t){if(this._domain=t,this._trackerURI="/shared-content/art/stats/common/tracker.gif",this._plugins=["DetectFlash","DetectRes","DetectVisitor","DetectPageTitle","DetectUniquePageview"],this._globalvars=[],this._trackvars=[],this._uriPrefix="",this._sessionTimeout=1800,this._cookieTimeout=43800,this._pageStart=new Date,this._ignoreURI=[],this._cookiePath="/",document.getElementsByTagName)for(var e=document.getElementsByTagName("meta"),i=0;i<e.length;i++)if("murlinstats"===e[i].name&&"ignore"===e[i].content.substr(0,6))for(var r=e[i].content.substr(7).split(","),s=0;s<r.length;s++)this._ignoreURI[r[s]]=1;this._setGlobalVar=function(t,e){this._globalvars[t]=e},this._getGlobalVar=function(t){return this._globalvars[t]?this._globalvars[t]:""},this._addTrackVar=function(t,e){t=escape(t),e=escape(e),this._trackvars[t]=e},this._clearTrackVars=function(){this._trackvars=[]},this._joinGlobalVars=function(){var t=[];for(var e in this._globalvars)"string"==typeof this._globalvars[e]&&(t[t.length]=escape(e)+"="+escape(this._globalvars[e]));return t.join("&")},this._joinTrackVars=function(){var t=[];for(var e in this._trackvars)"string"==typeof this._trackvars[e]&&(t[t.length]=e+"="+this._trackvars[e]);return t.join("&")},this._addCookie=function(t,e,i){if("undefined"!=typeof window.sessionStorage&&"undefined"!=typeof window.localStorage){var r=i?window.localStorage:window.sessionStorage;try{r["tnms:"+this._domain+":"+t]=e}catch(s){r.clear()}}else{var n=t+"="+escape(e)+"; path="+this._cookiePath+";";if(i>0){var o=new Date,a=o.getTime();o.setTime(3600*i*1e3+a),n=n+" expires="+o.toGMTString()+";"}document.cookie=n}},this._getCookie=function(t){for(var e=document.cookie,i=e.split("; "),r="",s=0;s<i.length;s++){var n=i[s].split("=");if(n[0]===t){r=unescape(n[1]);break}}return"undefined"!=typeof window.sessionStorage&&"undefined"!=typeof window.localStorage&&(window.localStorage["tnms:"+this._domain+":"+t]&&(r=window.localStorage["tnms:"+this._domain+":"+t]),window.sessionStorage["tnms:"+this._domain+":"+t]&&(r=window.sessionStorage["tnms:"+this._domain+":"+t])),r},this._sendTracker=function(){var t=new Date,e="";e=(0===window.location.protocol.indexOf("http:")?"s":"")?"http://"+this._domain+this._trackerURI:"https://"+this._domain+this._trackerURI,e=e+"?"+this._joinTrackVars()+"&rt="+t.getTime();var i=new Image(1,1);i.src=e},this._hashString=function(t){function e(t,e){var o=t[0],a=t[1],h=t[2],c=t[3],o=s(o,a,h,c,e[0],7,-680876936),c=s(c,o,a,h,e[1],12,-389564586),h=s(h,c,o,a,e[2],17,606105819),a=s(a,h,c,o,e[3],22,-1044525330),o=s(o,a,h,c,e[4],7,-176418897),c=s(c,o,a,h,e[5],12,1200080426),h=s(h,c,o,a,e[6],17,-1473231341),a=s(a,h,c,o,e[7],22,-45705983),o=s(o,a,h,c,e[8],7,1770035416),c=s(c,o,a,h,e[9],12,-1958414417),h=s(h,c,o,a,e[10],17,-42063),a=s(a,h,c,o,e[11],22,-1990404162),o=s(o,a,h,c,e[12],7,1804603682),c=s(c,o,a,h,e[13],12,-40341101),h=s(h,c,o,a,e[14],17,-1502002290),a=s(a,h,c,o,e[15],22,1236535329),o=r(o,a,h,c,e[1],5,-165796510),c=r(c,o,a,h,e[6],9,-1069501632),h=r(h,c,o,a,e[11],14,643717713),a=r(a,h,c,o,e[0],20,-373897302),o=r(o,a,h,c,e[5],5,-701558691),c=r(c,o,a,h,e[10],9,38016083),h=r(h,c,o,a,e[15],14,-660478335),a=r(a,h,c,o,e[4],20,-405537848),o=r(o,a,h,c,e[9],5,568446438),c=r(c,o,a,h,e[14],9,-1019803690),h=r(h,c,o,a,e[3],14,-187363961),a=r(a,h,c,o,e[8],20,1163531501),o=r(o,a,h,c,e[13],5,-1444681467),c=r(c,o,a,h,e[2],9,-51403784),h=r(h,c,o,a,e[7],14,1735328473),a=r(a,h,c,o,e[12],20,-1926607734),o=n(a^h^c,o,a,e[5],4,-378558),c=n(o^a^h,c,o,e[8],11,-2022574463),h=n(c^o^a,h,c,e[11],16,1839030562),a=n(h^c^o,a,h,e[14],23,-35309556),o=n(a^h^c,o,a,e[1],4,-1530992060),c=n(o^a^h,c,o,e[4],11,1272893353),h=n(c^o^a,h,c,e[7],16,-155497632),a=n(h^c^o,a,h,e[10],23,-1094730640),o=n(a^h^c,o,a,e[13],4,681279174),c=n(o^a^h,c,o,e[0],11,-358537222),h=n(c^o^a,h,c,e[3],16,-722521979),a=n(h^c^o,a,h,e[6],23,76029189),o=n(a^h^c,o,a,e[9],4,-640364487),c=n(o^a^h,c,o,e[12],11,-421815835),h=n(c^o^a,h,c,e[15],16,530742520),a=n(h^c^o,a,h,e[2],23,-995338651),o=i(o,a,h,c,e[0],6,-198630844),c=i(c,o,a,h,e[7],10,1126891415),h=i(h,c,o,a,e[14],15,-1416354905),a=i(a,h,c,o,e[5],21,-57434055),o=i(o,a,h,c,e[12],6,1700485571),c=i(c,o,a,h,e[3],10,-1894986606),h=i(h,c,o,a,e[10],15,-1051523),a=i(a,h,c,o,e[1],21,-2054922799),o=i(o,a,h,c,e[8],6,1873313359),c=i(c,o,a,h,e[15],10,-30611744),h=i(h,c,o,a,e[6],15,-1560198380),a=i(a,h,c,o,e[13],21,1309151649),o=i(o,a,h,c,e[4],6,-145523070),c=i(c,o,a,h,e[11],10,-1120210379),h=i(h,c,o,a,e[2],15,718787259),a=i(a,h,c,o,e[9],21,-343485551);t[0]=o+t[0]&4294967295,t[1]=a+t[1]&4294967295,t[2]=h+t[2]&4294967295,t[3]=c+t[3]&4294967295}function i(t,e,i,r,s,o,a){return n(i^(e|~r),t,e,s,o,a)}function r(t,e,i,r,s,o,a){return n(e&r|i&~r,t,e,s,o,a)}function s(t,e,i,r,s,o,a){return n(e&i|~e&r,t,e,s,o,a)}function n(t,e,i,r,s,n){return e=(e+t&4294967295)+(r+n&4294967295)&4294967295,(e<<s|e>>>32-s)+i&4294967295}return function(t){for(var e=0;e<t.length;e++){for(var i=t[e],r="0123456789abcdef".split(""),s="",n=0;4>n;n++)s+=r[i>>8*n+4&15]+r[i>>8*n&15];t[e]=s}return t.join("")}(function(t){var i,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64){for(var n=t.substring(i-64,i),o=[],a=void 0,a=0;64>a;a+=4)o[a>>2]=n.charCodeAt(a)+(n.charCodeAt(a+1)<<8)+(n.charCodeAt(a+2)<<16)+(n.charCodeAt(a+3)<<24);e(s,o)}for(t=t.substring(i-64),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<t.length;i++)n[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(n[i>>2]|=128<<(i%4<<3),i>55)for(e(s,n),i=0;16>i;i++)n[i]=0;return n[14]=8*r,e(s,n),s}(t))}}TNStats_Tracker.prototype.setTracker=function(){},TNStats_Tracker.prototype.setTrackerDomain=function(){},TNStats_Tracker.prototype.setTrackerURI=function(t){this._trackerURI=t},TNStats_Tracker.prototype.setURIPrefix=function(t){this._uriPrefix=t},TNStats_Tracker.prototype.ignoreURI=function(t,e){e?this._ignoreURI[e+"-"+t]=1:this._ignoreURI[t]=1},TNStats_Tracker.prototype.pluginDetectRes=function(){screen&&this._addTrackVar("tnms_rs",screen.width+"x"+screen.height+"x"+screen.colorDepth)},TNStats_Tracker.prototype.pluginDetectPageTitle=function(){var t=this._getCookie("tnms_pdt"),e=this._getGlobalVar("title");e.length||(e="(empty title)"),t&&this._addTrackVar("tnms_pdt",t),this._addTrackVar("tnms_dt",e),this._addCookie("tnms_pdt",e,this._cookieTimeout)},TNStats_Tracker.prototype.pluginDetectUniquePageview=function(){if("undefined"!=typeof window.sessionStorage){var t=this._getGlobalVar("uri"),e=this._getGlobalVar("domain"),i="tnmsup:"+this._hashString(e+t),r=window.sessionStorage[i];r||(this._addTrackVar("tnms_upage",1),window.sessionStorage[i]=1)}},TNStats_Tracker.prototype.pluginDetectVisitor=function(){var t=new Date,e=0,i=String(this._getCookie("tnms_vid")),r=this._getCookie("tnms_vsst"),s=this._getCookie("tnms_vssl"),n=this._getCookie("tnms_vpuri"),o=0;i.length?(!r||t.getTime()/1e3-s>this._sessionTimeout)&&(e=2,r=t.getTime()/1e3):(e=1,r=t.getTime()/1e3,i+=t.getTime(),window.screenX?i+=Math.abs(window.screenX):window.screenLeft&&(i+=Math.abs(window.screenLeft)),window.screenX?i+=Math.abs(window.screenY):window.screenTop&&(i+=Math.abs(window.screenTop)),document.body&&document.body.clientWidth?i+=document.body.clientWidth:window.innerWidth&&(i+=window.innerWidth),document.body&&document.body.clientHeight?i+=document.body.clientHeight:window.innerHeight&&(i+=window.innerHeight),i+=Math.floor(Math.random()*t.getTime())),this._addCookie("tnms_vsst",Math.ceil(r)),this._addCookie("tnms_vssl",Math.ceil(t.getTime()/1e3)),this._addCookie("tnms_vpuri",this._uri,this._cookieTimeout),this._addCookie("tnms_vid",i,this._cookieTimeout);var a=this._getCookie("tnms_vtumt"),h=String(t.getFullYear())+String(t.getMonth());a!==h&&(this._addTrackVar("tnms_vtum",1),this._addCookie("tnms_vtumt",h,this._cookieTimeout)),s&&(this._addTrackVar("tnms_vpuri",n),o=e?0:t.getTime()/1e3-s,this._addTrackVar("tnms_vplen",Math.ceil(o))),this._addTrackVar("tnms_vt",e),this._addTrackVar("tnms_vid",i)},TNStats_Tracker.prototype.pluginDetectFlash=function(){var t,e=!1,i="";if(navigator.plugins["Shockwave Flash"]&&navigator.plugins["Shockwave Flash"].description)i=String(navigator.plugins["Shockwave Flash"].description),t=i.split(" "),e=t[2];else if(window.ActiveXObject){var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.5");r&&(i=String(r.GetVariable("$version")),t=i.split(/[, ]/),e=t[1]+"."+t[2])}e&&this._addTrackVar("tnms_fl",e)},TNStats_Tracker.prototype.runPlugins=function(){for(var $x=0;$x<this._plugins.length;$x++)if(!this._ignoreURI[this._plugins[$x]+"-"+this._uri])try{eval("this.plugin"+this._plugins[$x]+"();")}catch(e){}this._addTrackVar("tnms_do",this._domain),this._addTrackVar("tnms_uri",this._uri),this._addTrackVar("tnms_ref",this._getGlobalVar("referrer")),this._sendTracker()},TNStats_Tracker.prototype.trackPageView=function(t){var e=String(document.location),i=e.match(/^(http|https):\/\/([^\/]{1,})(.*)$/);this._clearTrackVars(),i&&(this._uri=this._uriPrefix+i[3],this._scheme=i[1]),t&&(this._uri=this._uriPrefix+t),this._ignoreURI[this._uri]||(this._setGlobalVar("title",document.title),this._setGlobalVar("referrer",document.referrer),this._setGlobalVar("domain",this._domain),this._setGlobalVar("uri",this._uri),this.runPlugins())};